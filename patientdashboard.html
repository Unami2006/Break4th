<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Patient Dashboard | ClinAssist AI</title>
<link rel="stylesheet" href="style.css">
</head>

<body onload="checkAccess('patient')">

<nav>
  <a href="index.html">‚Üê Home</a>
  <h2>Patient Dashboard</h2>
  <button onclick="logout()">Logout</button>
</nav>

<div class="info-banner">
  <strong>How It Works:</strong>
  <ul>
    <li>Describe your symptoms using text or voice.</li>
    <li>Generate a structured health summary.</li>
    <li>Send the summary to your doctor.</li>
    <li>Book appointments or request medication delivery.</li>
  </ul>
</div>

<section class="dashboard-container">

  <div class="consultation-panel">

    <div class="card">

     <h3>Describe Your Symptoms</h3>

<div class="mode-toggle">
  <button id="patientTypeBtn" class="active"
    onclick="setPatientMode('type')">üìù Type</button>
  <button id="patientVoiceBtn"
    onclick="setPatientMode('voice')">üé§ Voice</button>
</div>

<textarea id="patientInput"
  placeholder="Example: I have chest pain and shortness of breath for 2 days...">
</textarea>

<div id="patientVoiceStatus" class="voice-status hidden">
  üé§ Listening...
</div>

<div class="actions">
  <button onclick="analyzePatient()">Generate Summary</button>
</div>

      <div id="patientOutput" class="hidden">

        <h4>Symptom Summary</h4>
        <div id="summary" class="output-box"></div>

        <h4>Risk Level</h4>
        <div id="patientRisk"></div>

        <div class="actions wrap">
          <button onclick="sendToDoctorFromPatient()">Send to Doctor</button>
          <button onclick="downloadPatientPDF()">Download PDF</button>
        </div>

      </div>

    </div>

  </div>

  <div class="activity-panel">

    <div class="card">
      <h3>Book Appointment</h3>

      <input type="date" id="appointmentDate">
      <select id="appointmentType">
        <option value="Online Consultation">Online Consultation</option>
        <option value="Physical Visit">Physical Visit</option>
      </select>

      <button onclick="bookAppointment()">Request Appointment</button>
    </div>

    <div class="card">
      <h3>Pharmacy Request</h3>

      <select id="medicationSelect">
        <option value="Paracetamol">Paracetamol</option>
        <option value="Ibuprofen">Ibuprofen</option>
        <option value="Antibiotics">Antibiotics</option>
        <option value="Cough Syrup">Cough Syrup</option>
      </select>

      <button onclick="requestMedication()">Request Delivery</button>

      <div id="deliveryStatus" class="delivery-box hidden"></div>
    </div>

  </div>

</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="script.js"></script>
</body>
</html>